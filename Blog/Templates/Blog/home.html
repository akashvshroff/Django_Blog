{% extends 'Blog/base.html' %}
{% block content %}
  <form action="{% url 'blog-home' %}" method="get">
    <div class="input-group mb-3">
      <input id= "searchinput" class = "form-control" name="q" type="text" placeholder="{{ query }}">
      <div class="input-group-append">
        <button class = 'btn btn-primary' type="submit">Submit</button>
        <button class = 'btn btn-danger' onclick="document.getElementById('searchinput').value = ''" >Clear</button>
      </div>
    </div>
  </form>
  {% if posts %}
    {% for post in posts%}
      <article class="media content-section">
        <img class = "rounded-circle article-img" src="{{post.author.profile.image.url}}">
        <div class="media-body">
        <div class="article-metadata">
        <a class="mr-2" href="#">{{ post.author }}</a>
        <small class="text-muted">{{ post.date_posted|date:"F d, Y"}}</small>
        </div>
        <h2><a class="article-title" href="{% url 'post-detail' post.id %}">{{ post.title }}</a></h2>
        <p class="article-content">{{ post.content }}</p>
        </div>
      </article>
    {% endfor %}
  {% else %}
    <h2>No matching results. Try again.</h2>
  {% endif %}
{% endblock content %}
